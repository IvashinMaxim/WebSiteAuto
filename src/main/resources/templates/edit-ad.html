<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Car Ad</title>
</head>
<body>
<div th:replace="~{fragments/header.html :: header}"></div>
<h1>Create a New Car Advertisement</h1>

<form th:action="@{/ads/edit/{id}(id=${carAd.id})}" th:object="${carAd}" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <label>Title: <input type="text" th:field="*{title}"/></label><br>
    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" style="color:red"></div>
    <label>Description: <textarea th:field="*{description}"></textarea></label><br>
    <div th:if="${#fields.hasErrors('description')}" th:errors="*{description}" style="color:red"></div>
    <label>Mileage: <input type="number" th:field="*{mileage}"/></label><br>
    <div th:if="${#fields.hasErrors('mileage')}" th:errors="*{mileage}" style="color:red"></div>
    <label>Price: <input type="number" th:field="*{price}" step="0.01"/></label><br>
    <div th:if="${#fields.hasErrors('price')}" th:errors="*{price}" style="color:red"></div>
    <label>Brand: <input type="text" th:field="*{car.brand}"/></label><br>
    <div th:if="${#fields.hasErrors('car.brand')}" th:errors="*{car.brand}" style="color:red"></div>
    <label>Model: <input type="text" th:field="*{car.model}"/></label><br>
    <div th:if="${#fields.hasErrors('car.model')}" th:errors="*{car.model}" style="color:red"></div>
    <label>Year: <input type="number" th:field="*{car.year}"/></label><br>
    <div th:if="${#fields.hasErrors('car.year')}" th:errors="*{car.year}" style="color:red"></div>
    <label>Body Type:
        <select th:field="*{car.bodyType}">
            <option th:each="bt : ${bodyTypes}"
                    th:value="${bt}"
                    th:text="${bt}">BodyType
            </option>
        </select>
    </label><br>

    <label>Engine Type:
        <select th:field="*{car.engineType}">
            <option th:each="et : ${engineTypes}"
                    th:value="${et}"
                    th:text="${et}">EngineType
            </option>
        </select>
    </label><br>

    <label>Drive Type:
        <select th:field="*{car.driveType}">
            <option th:each="dt : ${driveTypes}"
                    th:value="${dt}"
                    th:text="${dt}">DriveType
            </option>
        </select>
    </label><br>

    <label>Engine Power: <input type="number" step="0.1" th:field="*{car.enginePower}"/></label><br>
    <label>Horse Power: <input type="number" th:field="*{car.horsePower}"/></label><br>
    <label>Color: <input type="text" th:field="*{car.color}"/></label><br>

    <button type="submit">Create</button>

</form>
<a th:href="@{/ads}" class="btn btn-secondary">← Назад к объявлениям</a>
</body>
</html>
